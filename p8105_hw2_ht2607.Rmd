---
title: "p8105_hw2_ht2607"
output: github_document
---

## Question 1

```{r setup, include=FALSE}
library(tidyverse)
library(tidyr)
```

```{r}
pols_month_df = read_csv(file = "./fivethirtyeight_datasets/pols-month.csv") |>
  janitor::clean_names()
  pols_month_df <- pols_month_df |> 
  separate(mon, into = c("year", "month", "day"))
  View(pols_month_df)
```

## Question 2

```{r}
library(readxl)
library(tidyverse)
mr_trash_df = read_excel("q2data/202207 Trash Wheel Collection Data.xlsx", sheet = "Mr. Trash Wheel") |> 
  janitor::clean_names() |> 
  drop_na(dumpster) |> 
  mutate(homes_powered = weight_tons*500/30)
```

```{r}
professor_trash_df = read_excel("q2data/202207 Trash Wheel Collection Data.xlsx", sheet = "Professor Trash Wheel") |> 
  janitor::clean_names() |> 
  drop_na(dumpster) |> 
  mutate(homes_powered = weight_tons*500/30)
```

```{r}
gwynnda_df= read_excel("q2data/202207 Trash Wheel Collection Data.xlsx", sheet = "Gwynnda Trash Wheel") |> 
  janitor::clean_names() |> 
  drop_na(dumpster) |> 
  mutate(homes_powered = weight_tons*500/30)
```

```{r}
mr_trash_df = 
  readxl::read_excel("q2data/202207 Trash Wheel Collection Data.xlsx", sheet = "Professor Trash Wheel") |>
  mutate(trash_wheel = "mr.trash")

professor_trash_df = 
  readxl::read_excel("q2data/202207 Trash Wheel Collection Data.xlsx", sheet = "Professor Trash Wheel") |>
  mutate(trash_wheel = "professor trash")

gwynnda_df = 
  readxl::read_excel("q2data/202207 Trash Wheel Collection Data.xlsx", sheet = "Gwynnda Trash Wheel") |>
  mutate(trash_wheel = "gwynnda")

trash_df_tidy = 
  bind_rows(mr_trash_df, professor_trash_df, gwynnda_df) |>
  janitor::clean_names()
```

```{r}
sum(trash_df_tidy[trash_df_tidy$trash_wheel == "professor trash",]$weight_tons)
```
```{r}
sum(trash_df_tidy[trash_df_tidy$trash_wheel == "gwynnda" & trash_df_tidy$year== 2021 & trash_df_tidy$month== "July",]$cigarette_butts, na.rm = T)
```

Write a paragraph about these data; you are encouraged to use inline R. Be sure to note the number of observations in the resulting dataset, and give examples of key variables. For available data, what was the total weight of trash collected by Professor Trash Wheel? What was the total number of cigarette butts collected by Gwynnda in July of 2021?

The total weight of trash collected by Professor Trash Wheel is  380.24.
The total number of cigarette butts collected by Gwynnda in July of 2021 is 380.24.

## Question 3

```{r}
mci_df = read_csv(file = "./data_mci/MCI_baseline.csv", skip = 1, na = ".") |>
  janitor::clean_names() |> 
  drop_na() |> 
  mutate(
   sex = 
      case_match(
        sex, 
        1 ~ "male", 
        0 ~ "female"),
   sex = as.factor(sex))

amyloid_df = read_csv(file = "./data_mci/mci_amyloid.csv", skip = 1, na = "NA") |>
  janitor::clean_names() |> 
  drop_na(time_2, time_4, time_6, time_8) |> 
  mutate(
   study_id = as.numeric(study_id)) |> 
  rename(id = study_id)

mci_df_tidy = 
 left_join(mci_df, amyloid_df , by = "id") |> 
  janitor::clean_names() |> 
  filter(age_at_onset > current_age | is.na(age_at_onset))


  
```

